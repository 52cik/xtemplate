<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>xtemplate - XTemplate Syntax</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="nico 0.5.1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link type="image/x-icon" href="/favicon.ico" rel="icon">
    <link rel="stylesheet" href="../static/css/normalize.css" />
    <link rel="stylesheet" href="../static/css/site.css" />
    <link rel="stylesheet" href="../static/css/solarized.css" />
<script>
if (!location.port) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-50522089-2', 'auto');
  ga('send', 'pageview');
}
</script>
<script src="../static/js/sea.js?nowrap"></script>

<script>
  seajs.config({
    base: "../",
    alias: {}
  });
</script>
    <!--[if lt IE 9]>
    <script src="../static/js/html5shiv.js"></script>
    <![endif]-->
  </head>
  <body class="spmjs">
    <div class="body-wrapper">
      <aside class="sidebar-wrapper">
      <h1>
          <a href="../">Xtemplate</a>
      </h1>
      <p class="sidebar-version">Version: <a href="http://spmjs.io/package/xtemplate" title="">4.0.3</a></p>
        <p class="sidebar-description" data-keyword="template"></p>
        <a class="sidebar-source" href="http://github.com/kissyteam/xtemplate" target="_blank">View the Project</a>
        <ul class="sidebar-navigation" role="navigation">
          <li><a href="../">Doc</a></li>
          <li><a class="test-link" href="../tests/runner.html" target="_blank">Test</a></li>
          <li><a class="issue-link" href="http://github.com/kissyteam/xtemplate/issues" target="_blank">Issues</a></li>
        </ul>
        
<ol class="sidenav">
  <li><a href="../">xtemplate</a></li>
  <li><a href="api.html">XTemplate API</a></li>
  <li><a href="syntax-cn.html">XTemplate 模板语法</a></li>
  <li><a href="syntax.html">XTemplate Syntax</a></li>
</ol>

        <div class="qrcode-wrapper">
          <i class="icon iconfont">
            &#x3433;
            <div class="qrcode" id="qrcode"></div>
          </i>
        </div>
      </aside>
      <div class="content-wrapper">
        
<article class="hentry">
  <h1 class="entry-title">XTemplate Syntax</h1>
  <div class="entry-content">
    <p>This is an overview of the templating features available in XTemplate.</p>
<h2 id="variables">Variables<a href="#variables" class="anchor">¶</a></h2><p>A variable looks up a value from the template context. If you wanted to simply display a variable, you would do:</p>
<pre>{{ username }}</pre><p>This looks up <code>name</code> from the context and displays it. Variable names can have dots in them which lookup properties, just like javascript. You can also use the square bracket syntax.</p>
<pre>{{ user.name }}
{{ user[&quot;name&quot;] }}</pre><p>These two forms to the exact same thing, just like javascript.</p>
<p>If a value is <code>undefined</code> or <code>null</code>, nothing is displayed. The same behavior occurs when referencing <code>undefined</code> or <code>null</code> objects. The following all output nothing if foo is undefined: <code>{{ foo }}</code>, <code>{{ foo.bar }}</code>, <code>{{ foo.bar.baz }}</code>.</p>
<h3 id="support-data-types">Support Data Types<a href="#support-data-types" class="anchor">¶</a></h3><p>XTemplate support all basic data types in javascript.</p>
<ul>
<li><code>Boolean</code></li>
<li><code>Number</code></li>
<li><code>String</code></li>
<li><code>null</code></li>
<li><code>undefined</code></li>
<li><code>Object</code></li>
<li><code>Array</code></li>
</ul>
<h3 id="display">Display<a href="#display" class="anchor">¶</a></h3><p>Use <code>{{ foo }}</code> to display escaped data, and <code>{{{ foo }}}</code> to display original unescaped data.</p>
<div class="highlight"><pre><code class="xml">escaped: {{ foo }}
unescaped: {{ foo }}</code></pre></div><p>Render this template with data <code>{ foo: &quot;&lt;script&gt;&quot; }</code>, the output will be:</p>
<div class="highlight"><pre><code class="xml">escaped: &amp;lt;script&amp;gt;
unescaped: <span class="tag">&lt;<span class="title">script</span>&gt;</span><span class="javascript"></span></code></pre></div><p>If you want to display the original data (with <code>{{}}</code>), please use <code>{{%%}}</code>:</p>
<pre>{{%

{{x}}

%}}  // =&gt; {{x}}</pre><p>Render this template, the output will be:</p>
<pre>{{x}}</pre><p>To add some comments for your template, use <code>{{! comment }}</code>:</p>
<pre>{{! This is commnet }}</pre><p>Render this template, the output will be empty.</p>
<h3 id="scope">Scope<a href="#scope" class="anchor">¶</a></h3><p>Every template has it&#39;s own independent scope. In sub template can visit parent&#39;s context, but define variables in sub template won&#39;t change parent&#39;s context.</p>
<p>In parent.xtpl:</p>
<pre>{{ set (a = 1, b = 2) }}
{{include (&quot;sub.xtpl&quot;) }}
in parent:
a = {{ a }}
b = {{ b }}</pre><p>In sub.xtpl:</p>
<pre>in sub:
{{ set b = 3 }}
a = {{ a }}
b = {{ b }}</pre><p>Render <code>parent.xtpl</code>, the output will be:</p>
<pre>in sub:
a: 1
b: 3
in parent:
a: 1
b: 2</pre><h3 id="root-data">Root Data<a href="#root-data" class="anchor">¶</a></h3><p>Use <code>root.foo</code> can visit the data in root:</p>
<p>Render the follow template with data <code>{name: &quot;foo&quot;, array: [name: &quot;bar&quot;]}</code>:</p>
<pre>{{#each(arr)}}
{{root.name}} {{name}}
{{/each}}</pre><p>The output will be:</p>
<pre>foo bar</pre><h2 id="methods-and-logics">Methods and Logics<a href="#methods-and-logics" class="anchor">¶</a></h2><p>You can call javascript&#39;s methods in variables.</p>
<div class="highlight"><pre><code class="javascript"><span class="keyword">var</span> x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</code></pre></div><pre>{{#each(x.slice(1))}}{{this}} {{/each}} // =&gt; 2 3</pre><h3 id="operations">Operations<a href="#operations" class="anchor">¶</a></h3><p>XTemplate allows you to operate on values. The following operators are available:</p>
<ul>
<li>Addition: <code>+</code></li>
<li>Subtraction: <code>-</code></li>
<li>Multiplication: <code>*</code></li>
<li>Division: <code>/</code></li>
<li>Division remainder: <code>%</code></li>
</ul>
<p>Examples:</p>
<pre>{{x+y}}
{{x + &quot;1&quot;}}
{{ y - 1 }}</pre><h3 id="comparisons">Comparisons<a href="#comparisons" class="anchor">¶</a></h3><ul>
<li><code>===</code></li>
<li><code>!==</code></li>
<li><code>&gt;</code></li>
<li><code>&gt;=</code></li>
<li><code>&lt;</code></li>
<li><code>&lt;=</code></li>
</ul>
<p>Examples:</p>
<pre>{{#if( x===1 )}}
1
{{elseif (x===2)}}
2
{{else}}
3
{{/if}}

{{#if ( (x+1) &gt; 2 )}}
{{/if}}</pre><h3 id="logic">Logic<a href="#logic" class="anchor">¶</a></h3><ul>
<li><code>||</code></li>
<li><code>&amp;&amp;</code></li>
<li><code>!</code></li>
</ul>
<p>Examples:</p>
<pre>{{#if(x&gt;1 && y&lt;2)}}
{{/if}}

{{#if(!x)}}
{{/if}}</pre><h3 id="function-calls">Function Calls<a href="#function-calls" class="anchor">¶</a></h3><p>If you have passed a javascript method to your template, you can call it like normal.</p>
<p>{{ foo(1, 2, 3) }}</p>
<h3 id="build-in-functions">Build in Functions<a href="#build-in-functions" class="anchor">¶</a></h3><h4 id="range-start-end-step">range(start, end, [step])<a href="#range-start-end-step" class="anchor">¶</a></h4><p>If you need to iterate over a fixed set of numbers, range generates the set for you. The numbers begin at start and incremeny by step (default 1) until it reaches stop, not including it.</p>
<pre>{{#each(range(0,3))}}{{this}}{{/each}}
{{#each(range(3,0))}}{{this}}{{/each}}
{{#each(range(3,0,2))}}{{this}}{{/each}}</pre><p>Render this template will output:</p>
<pre>012
321
31</pre><h4 id="set-key-value-key-value">set(key=value, [key=value])<a href="#set-key-value-key-value" class="anchor">¶</a></h4><p><code>set</code> lets you create/modify a variable.</p>
<pre>{{set(x=1)}}
{{set(y=3,z=2)}}
{{x}}
{{y+z}}</pre><p>Render this template will output:</p>
<pre>1
5</pre><h2 id="commands">Commands<a href="#commands" class="anchor">¶</a></h2><p>Commands are special blocks that perform operations on sections of the template. XTemplate comes with several builtin, but you can add your own.</p>
<h3 id="if">if<a href="#if" class="anchor">¶</a></h3><p>if tests a condition and lets you selectively display content. It behaves exactly as javascript&#39;s <code>if</code> behaves.</p>
<pre>{{# if (variable) }}
    It is true
{{/ if }}</pre><p>If variable is defined and evaluates to true, &quot;It is true&quot; will be displayed. Otherwise, nothing will be.</p>
<p>You can specify alternate conditions with elseif and else:</p>
<pre>{{# if (hungry) }}
    I am hungry
{{ elseif (tired) }}
    I am tired
{{ else }}
    I am good!
{{/ if }}</pre><h3 id="with">with<a href="#with" class="anchor">¶</a></h3><p>with command works like javascript&#39;s <code>with</code>:</p>
<div class="highlight"><pre><code class="javascript"><span class="keyword">var</span> a = {
    b: <span class="number">1</span>
}</code></pre></div><pre>{{#with(a)}}
{{b}} // 1
{{/with}}</pre><h3 id="each">each<a href="#each" class="anchor">¶</a></h3><p><code>each</code> iterates over arrays and dictionaries.</p>
<pre>{{#each(x)}}
    {{xindex}} {{this}}
{{/each}}

{{#each(y,&quot;value&quot;,&quot;key&quot;)}}
    {{key}} {{value}}
{{/each}}</pre><p>Render this template with data <code>{x: [1, 2, 3], y: {a: 1, b: 2, c: 3}}</code>, the output will be:</p>
<pre>0 1
1 2
2 3

a 1
b 2
c 3</pre><h4 id="level-access">level access<a href="#level-access" class="anchor">¶</a></h4><p>In <code>with</code> and <code>each</code>, You can use <code>../</code> to visit outside variables.</p>
<pre>{{#with(x)}}
    {{#each(b)}}
        {{../a}}{{a}} // 12
    {{/each}}
{{/with}}</pre><p>Render this template with data <code>{a: 1, b: [{a: 2}] }</code>, the output will be:</p>
<pre>12</pre><h3 id="macro">macro<a href="#macro" class="anchor">¶</a></h3><p>macro allows you to define reusable chunks of content. It is similar to a function in a programming language. Here&#39;s an example:</p>
<pre>{{#macro(&quot;test&quot;,&quot;param&quot;, default=1)}}
    param is {{param}} {{default}}
{{/macro}}</pre><p>Now you can call this macro like:</p>
<pre>{{macro(&quot;test&quot;,&quot;2&quot;)}}
{{macro(&quot;test&quot;, &quot;2&quot;, default=2)}}</pre><p>The output will be:</p>
<pre>param is 2 1
param is 2 2</pre><p>Notice: In macro, you can&#39;t visit parent&#39;s scope, but you can visit root data through <code>root.key</code>.</p>
<h3 id="include">include<a href="#include" class="anchor">¶</a></h3><p>include pulls in other templates in place. It&#39;s useful when you need to share smaller chunks across several templates that already inherit other templates:</p>
<pre>{{ include (&quot;item.html&quot;) }}</pre><h2 id="template-inheritance">Template Inheritance<a href="#template-inheritance" class="anchor">¶</a></h2><p>Template inheritance is a way to make it easy to reuse templates. When writing a template, you can define &quot;blocks&quot; that child templates can override. The inheritance chain can be as long as you like.</p>
<p>If we have a template parent.xtpl that looks like this:</p>
<div class="highlight"><pre><code class="xml"><span class="doctype">&lt;!doctype html&gt;</span>
<span class="tag">&lt;<span class="title">html</span>&gt;</span>
    <span class="tag">&lt;<span class="title">head</span>&gt;</span>
        <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">name</span>=<span class="value">"charset"</span> <span class="attribute">content</span>=<span class="value">"utf-8"</span> /&gt;</span>
        <span class="tag">&lt;<span class="title">title</span>&gt;</span>{{title}}<span class="tag">&lt;/<span class="title">title</span>&gt;</span>
        {{{block ("head")}}}
    <span class="tag">&lt;/<span class="title">head</span>&gt;</span>
    <span class="tag">&lt;<span class="title">body</span>&gt;</span>
        {{{block ("body")}}}
    <span class="tag">&lt;/<span class="title">body</span>&gt;</span>
<span class="tag">&lt;/<span class="title">html</span>&gt;</span></code></pre></div><p>And a template child.xtpl that looks like this:</p>
<div class="highlight"><pre><code class="xml">{{extend ("./parent")}}

{{#block ("head")}}
    <span class="tag">&lt;<span class="title">link</span> <span class="attribute">type</span>=<span class="value">"text/css"</span> <span class="attribute">href</span>=<span class="value">"test.css"</span> <span class="attribute">rev</span>=<span class="value">"stylesheet"</span> <span class="attribute">rel</span>=<span class="value">"stylesheet"</span>/&gt;</span>
{{/block}}

{{#block ("body")}}
    <span class="tag">&lt;<span class="title">h2</span>&gt;</span>{{title}}<span class="tag">&lt;/<span class="title">h2</span>&gt;</span>
{{/block}}</code></pre></div><p>And we render child.xtpl with data: <code>{ title: &quot;XTemplate&quot; }</code>:</p>
<p>The output would be:</p>
<div class="highlight"><pre><code class="xml"><span class="doctype">&lt;!doctype html&gt;</span>
<span class="tag">&lt;<span class="title">html</span>&gt;</span>
    <span class="tag">&lt;<span class="title">head</span>&gt;</span>
        <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">name</span>=<span class="value">"charset"</span> <span class="attribute">content</span>=<span class="value">"utf-8"</span> /&gt;</span>
        <span class="tag">&lt;<span class="title">title</span>&gt;</span>XTemplate<span class="tag">&lt;/<span class="title">title</span>&gt;</span>
        <span class="tag">&lt;<span class="title">link</span> <span class="attribute">type</span>=<span class="value">"text/css"</span> <span class="attribute">href</span>=<span class="value">"test.css"</span> <span class="attribute">rev</span>=<span class="value">"stylesheet"</span> <span class="attribute">rel</span>=<span class="value">"stylesheet"</span>/&gt;</span>
    <span class="tag">&lt;/<span class="title">head</span>&gt;</span>
    <span class="tag">&lt;<span class="title">body</span>&gt;</span>
        <span class="tag">&lt;<span class="title">h2</span>&gt;</span>XTemplate<span class="tag">&lt;/<span class="title">h2</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">body</span>&gt;</span>
<span class="tag">&lt;/<span class="title">html</span>&gt;</span></code></pre></div><h2 id="reserved-words">Reserved words<a href="#reserved-words" class="anchor">¶</a></h2><ul>
<li><code>debugger</code></li>
<li><code>each</code></li>
<li><code>extend</code></li>
<li><code>include</code></li>
<li><code>macro</code></li>
<li><code>parse</code></li>
<li><code>range</code></li>
<li><code>set</code></li>
<li><code>with</code></li>
</ul>

  </div>
</article>

      </div>
      
    </div>
    <div class="footer-wrapper">
      <footer>
        <p class="footer-powered"><a href="http://spmjs.io">spmjs.io</a> •
<a href="https://github.com/spmjs/spm">spm</a> •
<a href="http://seajs.org">Sea.js</a> •
<a href="http://lab.lepture.com/nico/">nico</a>
        </p>
      </footer>
    </div>
  </body>
  <script src="../static/js/nprogress.js?nowrap"></script>
  <script>
  (function() {
    NProgress.start();
    window.onload = NProgress.done;
    var ready = function(fn) {
      var doc = document;
      if(doc.addEventListener) {
        doc.addEventListener('DOMContentLoaded', fn, false);
      } else {
        doc.attachEvent('onreadystatechange', fn);
      }
    };
    ready(function() {
      NProgress.inc(0.6);

      seajs.use("../static/js/arale-qrcode.js?nowrap", function(QRCode) {
        var url = location.href;
        if (location.hostname === 'localhost' || location.hostname === '127.0.0.1') {
          url = url.replace(location.hostname, '192.168.1.15');
        }
        var el = new QRCode({
          text: url,
          render: 'canvas',
          width: 120,
          height: 120
        });
        document.getElementById('qrcode').appendChild(el);
      });
    }, false);
  })();
  </script>
</html>